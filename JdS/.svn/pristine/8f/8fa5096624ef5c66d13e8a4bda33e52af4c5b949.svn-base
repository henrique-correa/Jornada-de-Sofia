using UnityEngine;
using System.Collections;


public class jogador : MonoBehaviour {
	[SerializeField]float tempo_de_corda =900.0f;
	[SerializeField] int vida = 3;

	GameObject texto;
	GameObject texto2;
	GameObject texto3;


	// Use this for initialization
	void Start () {
		texto = GameObject.Find("debug_1");
		texto2 = GameObject.Find("debug_2");
		texto3 = GameObject.Find("debug_3");

	
	}
	
	// Update is called once per frame
	void Update () {
		tempo_de_corda -= 1.0f;
		//if (tempo_de_corda < 1.0f){



		texto.guiText.text = tempo_de_corda.ToString("0.0");
		if(tempo_de_corda <= 0){
			texto.guiText.text = "gameover";

		}
		if(vida <=0){
			Destroy(gameObject);
		}
		 

	
	}
	void OnTriggerEnter2D(Collider2D col){

		texto2.guiText.text = col.gameObject.name;
		if(col.gameObject.name == "chave_de_corda"){
			tempo_de_corda += 100.0f;
			Destroy(col.gameObject);
			Debug.Log("colidiu");
			}
		if(col.gameObject.name == "buraco")
		{
			texto3.guiText.text = "morreu";
			Destroy(col.gameObject);
			//Destroy (gameObject);
		}


	}
	void OnCollisionEnter2D(Collision2D col){
		//texto2.guiText.text = col.gameObject.name;
		if(col.gameObject.name == "risada(Clone)"){
			vida -=1;
			Destroy (col.gameObject);
			
		}
		if(col.gameObject.name == "cachorro"){
			vida -=1;
		}


	}


	void FixedUpdate (){

	}


}
